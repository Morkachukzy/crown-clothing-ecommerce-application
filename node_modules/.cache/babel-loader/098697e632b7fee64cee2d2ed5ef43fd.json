{"ast":null,"code":"var _jsxFileName = \"/Users/Chuka/Documents/Learn/React/CapstoneProject/crown-clothing-ecommerce-application/src/contexts/categories.context.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useEffect, useReducer } from \"react\";\nimport { getCategoriesAndDocuments } from \"../utils/firebase/firebase.utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CategoriesContext = /*#__PURE__*/createContext({\n  categoriesMap: {}\n});\nconst CATEGORIES_ACTIONS = {\n  SET_CATEGORIES_MAP: \"SET_CATEGORIES_MAP\"\n};\n\nconst init = initialValue => ({\n  categoriesMap: initialValue\n});\n\nconst categoriesReducer = (state, action) => {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case CATEGORIES_ACTIONS.SET_CATEGORIES_MAP:\n      return { ...state,\n        categoriesMap: payload\n      };\n\n    default:\n      throw new Error(`Unhandled type ${type} in categoriesReducer`);\n  }\n};\n\nexport const CategoriesProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [{\n    categoriesMap\n  }, dispatch] = useReducer(categoriesReducer, {}, init);\n\n  const setCategoriesMap = newCategoriesMap => dispatch({\n    type: CATEGORIES_ACTIONS.SET_CATEGORIES_MAP,\n    payload: newCategoriesMap\n  });\n\n  useEffect(() => {\n    (async () => {\n      const categoryMap = await getCategoriesAndDocuments();\n      setCategoriesMap(categoryMap);\n    })();\n  }, []);\n  const value = {\n    categoriesMap\n  };\n  return /*#__PURE__*/_jsxDEV(CategoriesContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CategoriesProvider, \"h1zL/vCufodULiwgWgi3YNqIYOM=\");\n\n_c = CategoriesProvider;\n\nconst useCategories = () => {\n  _s2();\n\n  const context = useContext(ShopContext);\n\n  if (context === undefined) {\n    throw new Error(\"useShop must be used within ShopContext\");\n  }\n\n  return context;\n};\n\n_s2(useCategories, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"CategoriesProvider\");","map":{"version":3,"names":["createContext","useEffect","useReducer","getCategoriesAndDocuments","CategoriesContext","categoriesMap","CATEGORIES_ACTIONS","SET_CATEGORIES_MAP","init","initialValue","categoriesReducer","state","action","type","payload","Error","CategoriesProvider","children","dispatch","setCategoriesMap","newCategoriesMap","categoryMap","value","useCategories","context","useContext","ShopContext","undefined"],"sources":["/Users/Chuka/Documents/Learn/React/CapstoneProject/crown-clothing-ecommerce-application/src/contexts/categories.context.jsx"],"sourcesContent":["import {createContext, useEffect, useReducer} from \"react\";\n\nimport { getCategoriesAndDocuments } from \"../utils/firebase/firebase.utils\";\n\nexport const CategoriesContext = createContext({\n  categoriesMap: {},\n});\n\nconst CATEGORIES_ACTIONS = {\n  SET_CATEGORIES_MAP: \"SET_CATEGORIES_MAP\"\n}\n\nconst init = (initialValue) => ({\n  categoriesMap: initialValue\n})\nconst categoriesReducer = (state, action) => {\n  const {type, payload} = action;\n\n  switch(type) {\n    case CATEGORIES_ACTIONS.SET_CATEGORIES_MAP:\n      return {...state, categoriesMap: payload}\n    default:\n      throw new Error(`Unhandled type ${type} in categoriesReducer`)\n  }\n}\n\nexport const CategoriesProvider = ({ children }) => {\n  const [{categoriesMap}, dispatch] = useReducer(categoriesReducer, {}, init);\n\n  const setCategoriesMap = (newCategoriesMap) => dispatch({type: CATEGORIES_ACTIONS.SET_CATEGORIES_MAP, payload: newCategoriesMap})\n\n  useEffect(() => {\n    (async () => {\n      const categoryMap = await getCategoriesAndDocuments();\n      setCategoriesMap(categoryMap);\n    })();\n  }, []);\n\n  const value = { categoriesMap };\n\n  return (\n    <CategoriesContext.Provider value={value}>\n      {children}\n    </CategoriesContext.Provider>\n  );\n};\n\nconst useCategories = () => {\n    const context = useContext(ShopContext)\n\n    if (context === undefined) {\n      throw new Error(\"useShop must be used within ShopContext\")\n    }\n\n    return context\n}"],"mappings":";;;;AAAA,SAAQA,aAAR,EAAuBC,SAAvB,EAAkCC,UAAlC,QAAmD,OAAnD;AAEA,SAASC,yBAAT,QAA0C,kCAA1C;;AAEA,OAAO,MAAMC,iBAAiB,gBAAGJ,aAAa,CAAC;EAC7CK,aAAa,EAAE;AAD8B,CAAD,CAAvC;AAIP,MAAMC,kBAAkB,GAAG;EACzBC,kBAAkB,EAAE;AADK,CAA3B;;AAIA,MAAMC,IAAI,GAAIC,YAAD,KAAmB;EAC9BJ,aAAa,EAAEI;AADe,CAAnB,CAAb;;AAGA,MAAMC,iBAAiB,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;EAC3C,MAAM;IAACC,IAAD;IAAOC;EAAP,IAAkBF,MAAxB;;EAEA,QAAOC,IAAP;IACE,KAAKP,kBAAkB,CAACC,kBAAxB;MACE,OAAO,EAAC,GAAGI,KAAJ;QAAWN,aAAa,EAAES;MAA1B,CAAP;;IACF;MACE,MAAM,IAAIC,KAAJ,CAAW,kBAAiBF,IAAK,uBAAjC,CAAN;EAJJ;AAMD,CATD;;AAWA,OAAO,MAAMG,kBAAkB,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAClD,MAAM,CAAC;IAACZ;EAAD,CAAD,EAAkBa,QAAlB,IAA8BhB,UAAU,CAACQ,iBAAD,EAAoB,EAApB,EAAwBF,IAAxB,CAA9C;;EAEA,MAAMW,gBAAgB,GAAIC,gBAAD,IAAsBF,QAAQ,CAAC;IAACL,IAAI,EAAEP,kBAAkB,CAACC,kBAA1B;IAA8CO,OAAO,EAAEM;EAAvD,CAAD,CAAvD;;EAEAnB,SAAS,CAAC,MAAM;IACd,CAAC,YAAY;MACX,MAAMoB,WAAW,GAAG,MAAMlB,yBAAyB,EAAnD;MACAgB,gBAAgB,CAACE,WAAD,CAAhB;IACD,CAHD;EAID,CALQ,EAKN,EALM,CAAT;EAOA,MAAMC,KAAK,GAAG;IAAEjB;EAAF,CAAd;EAEA,oBACE,QAAC,iBAAD,CAAmB,QAAnB;IAA4B,KAAK,EAAEiB,KAAnC;IAAA,UACGL;EADH;IAAA;IAAA;IAAA;EAAA,QADF;AAKD,CAnBM;;GAAMD,kB;;KAAAA,kB;;AAqBb,MAAMO,aAAa,GAAG,MAAM;EAAA;;EACxB,MAAMC,OAAO,GAAGC,UAAU,CAACC,WAAD,CAA1B;;EAEA,IAAIF,OAAO,KAAKG,SAAhB,EAA2B;IACzB,MAAM,IAAIZ,KAAJ,CAAU,yCAAV,CAAN;EACD;;EAED,OAAOS,OAAP;AACH,CARD;;IAAMD,a"},"metadata":{},"sourceType":"module"}